# production config. The parameters that should be configured at runtime must be
# templated using environment variables.

logging.level.root=warn
logging.level.com.trynoice.api=info

server.shutdown=graceful
server.forward-headers-strategy=native

spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# https://jdbc.postgresql.org/documentation/head/connect.html#ssl
spring.datasource.url=jdbc:postgresql://${PGDB_HOST:localhost}:${PGDB_PORT:5432}/${PGDB_NAME:develop}
spring.datasource.username=${PGDB_USER:admin}
spring.datasource.password=${PGDB_PASSWORD:password}

spring.resources.add-mappings=false
spring.mvc.throw-exception-if-no-handler-found=true
spring.jackson.default-property-inclusion=NON_NULL

springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false
springdoc.override-with-generic-response=false


app.cors.allowed-origins=https://${APP_DOMAIN:},https://*.${APP_DOMAIN:}

app.auth.hmac-secret=${AUTH_HMAC_SECRET:}
app.auth.refresh-token-expiry=${AUTH_REFRESH_TOKEN_EXPIRY:7d}
app.auth.access-token-expiry=${AUTH_ACCESS_TOKEN_EXPIRY:30m}
app.auth.cookie-domain=${APP_DOMAIN:}
app.auth.sign-in-token-expiry=${AUTH_SIGN_IN_TOKEN_EXPIRY:15m}
app.auth.sign-in-token-dispatcher-type=email

app.auth.sign-in-token-dispatcher.email.from-email=${AUTH_SIGN_IN_TOKEN_FROM_EMAIL:}
app.auth.sign-in-token-dispatcher.email.subject=Noice: Sign-in
app.auth.sign-in-token-dispatcher.email.template=classpath:sign-in-email-template.html
app.auth.sign-in-token-dispatcher.email.link-fmt=https://trynoice.com/signIn?token=${token}
app.auth.sign-in-token-dispatcher.email.support-email=${AUTH_SIGN_IN_TOKEN_SUPPORT_EMAIL:}

app.subscriptions.android-application-id=com.github.ashutoshgngwr.noice
app.subscriptions.android-publisher-api-key-path=${ANDROID_PUBLISHER_API_KEY_PATH:android-publisher-api-key.json}
app.subscriptions.stripe-api-key=${STRIPE_API_KEY:}
app.subscriptions.stripe-webhook-secret=${STRIPE_WEBHOOK_SECRET:}
